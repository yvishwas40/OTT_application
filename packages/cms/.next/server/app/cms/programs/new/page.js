(()=>{var e={};e.id=287,e.ids=[287],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},9072:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c}),a(8702),a(2612),a(7824);var r=a(3282),t=a(5736),l=a(3906),i=a.n(l),n=a(6880),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(s,o);let c=["",{children:["cms",{children:["programs",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8702)),"C:\\Users\\yvish\\projects\\OTT platform\\OTT_app-main\\packages\\cms\\app\\cms\\programs\\new\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2612)),"C:\\Users\\yvish\\projects\\OTT platform\\OTT_app-main\\packages\\cms\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7824,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\yvish\\projects\\OTT platform\\OTT_app-main\\packages\\cms\\app\\cms\\programs\\new\\page.tsx"],p="/cms/programs/new/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/cms/programs/new/page",pathname:"/cms/programs/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2950:(e,s,a)=>{Promise.resolve().then(a.bind(a,765))},9384:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(1109).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},765:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var r=a(3227),t=a(3677),l=a(1043),i=a(649),n=a(6483),o=a(8808),c=a(4651),d=a(9384),p=a(7587),m=a(5169);function u(){let e=(0,l.useRouter)(),[s,a]=(0,t.useState)(!1),[u,g]=(0,t.useState)(""),[x,h]=(0,t.useState)([]),[b,y]=(0,t.useState)([]),[v,j]=(0,t.useState)({title:"",description:"",languagePrimary:"en",languagesAvailable:["en"],posterUrl:"",landscapePosterUrl:""}),f=async s=>{s.preventDefault(),g(""),a(!0);try{if(!v.title.trim()){g("Title is required"),a(!1);return}if(!v.languagePrimary){g("Primary language is required"),a(!1);return}if(0===b.length){g("At least one topic is required"),a(!1);return}let s=v.languagesAvailable.includes(v.languagePrimary)?v.languagesAvailable:[...v.languagesAvailable,v.languagePrimary],r=await o.h.post("/programs",{title:v.title.trim(),description:v.description.trim()||null,languagePrimary:v.languagePrimary,languagesAvailable:s,topicIds:b});if(v.posterUrl)try{await o.h.post("/assets/programs",{programId:r.data.id,language:v.languagePrimary,variant:"PORTRAIT",assetType:"poster",url:v.posterUrl})}catch(e){console.error("Failed to add portrait poster:",e)}if(v.landscapePosterUrl)try{await o.h.post("/assets/programs",{programId:r.data.id,language:v.languagePrimary,variant:"LANDSCAPE",assetType:"poster",url:v.landscapePosterUrl})}catch(e){console.error("Failed to add landscape poster:",e)}e.push(`/cms/programs/${r.data.id}`)}catch(e){console.error("Failed to create series:",e),g(e.response?.data?.message||"Failed to create series. Please try again."),a(!1)}},N=e=>{if(v.languagesAvailable.includes(e)){if(e===v.languagePrimary){g("Cannot remove primary language from available languages");return}j({...v,languagesAvailable:v.languagesAvailable.filter(s=>s!==e)})}else j({...v,languagesAvailable:[...v.languagesAvailable,e]});g("")},P=e=>{b.includes(e)?y(b.filter(s=>s!==e)):y([...b,e])};return r.jsx(n.o,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(i.default,{href:"/cms/programs",className:"p-2 hover:bg-slate-800 rounded transition-colors text-gray-400 hover:text-white",children:r.jsx(c.Z,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create New Series"}),r.jsx("p",{className:"text-gray-400",children:"Add a new short-form series to Chai Shorts"})]})]}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"card p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Series Information"}),u&&r.jsx("div",{className:"mb-4 p-4 bg-red-900/30 border border-red-900/50 rounded-lg text-red-400 text-sm",children:u}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Series Title ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",value:v.title,onChange:e=>{j({...v,title:e.target.value}),g("")},className:"input-field",placeholder:"Enter series title",required:!0,disabled:s})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),r.jsx("textarea",{value:v.description,onChange:e=>j({...v,description:e.target.value}),className:"input-field",rows:4,placeholder:"Enter series description",disabled:s})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Portrait Poster URL (Optional)"}),r.jsx("input",{type:"url",value:v.posterUrl,onChange:e=>j({...v,posterUrl:e.target.value}),className:"input-field",placeholder:"https://example.com/poster_portrait.jpg",disabled:s}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Vertical poster (2:3) for lists and cards."})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Landscape Poster URL (Optional)"}),r.jsx("input",{type:"url",value:v.landscapePosterUrl,onChange:e=>j({...v,landscapePosterUrl:e.target.value}),className:"input-field",placeholder:"https://example.com/poster_landscape.jpg",disabled:s}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Horizontal poster (16:9) for feature banners."})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Topics ",r.jsx("span",{className:"text-red-400",children:"*"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-900/50 rounded-lg border border-slate-700 min-h-[3rem]",children:[x.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>P(e.id),className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm border transition-all ${b.includes(e.id)?"bg-yellow-600 border-yellow-500 text-white":"bg-slate-800 border-slate-600 text-gray-400 hover:border-gray-500 hover:text-gray-300"}`,children:[r.jsx(d.Z,{className:"h-3 w-3"}),e.name]},e.id)),0===x.length&&r.jsx("p",{className:"text-xs text-gray-500",children:"No topics available."})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select at least one topic."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Primary Language ",r.jsx("span",{className:"text-red-400",children:"*"})]}),(0,r.jsxs)("select",{value:v.languagePrimary,onChange:e=>{let s=e.target.value;j({...v,languagePrimary:s,languagesAvailable:v.languagesAvailable.includes(s)?v.languagesAvailable:[...v.languagesAvailable,s]}),g("")},className:"input-field",required:!0,disabled:s,children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"te",children:"Telugu"}),r.jsx("option",{value:"hi",children:"Hindi"}),r.jsx("option",{value:"es",children:"Spanish"}),r.jsx("option",{value:"fr",children:"French"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Primary language for this series"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Available Languages"}),r.jsx("div",{className:"space-y-2 mt-2",children:["en","es","fr","te","hi"].map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:v.languagesAvailable.includes(e),onChange:()=>N(e),disabled:s||e===v.languagePrimary,className:"mr-2 rounded border-gray-600 bg-slate-800 text-yellow-500 focus:ring-yellow-500 disabled:opacity-50"}),(0,r.jsxs)("span",{className:"text-sm text-gray-300",children:["en"===e?"English":"te"===e?"Telugu":"hi"===e?"Hindi":"es"===e?"Spanish":"French",e===v.languagePrimary&&r.jsx("span",{className:"ml-2 text-xs text-yellow-500",children:"(Primary)"})]})]},e))}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Languages in which this series is available"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsxs)(i.default,{href:"/cms/programs",className:"btn-secondary flex items-center gap-x-2",onClick:e=>s&&e.preventDefault(),children:[r.jsx(p.Z,{className:"h-4 w-4"}),"Cancel"]}),(0,r.jsxs)("button",{type:"submit",disabled:s,className:"btn-primary flex items-center gap-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(m.Z,{className:"h-4 w-4"}),s?"Creating...":"Create Series"]})]})]}),r.jsx("div",{className:"card p-4 bg-yellow-900/20 border border-yellow-900/50",children:(0,r.jsxs)("p",{className:"text-sm text-yellow-400",children:[r.jsx("strong",{children:"Note:"})," The series will be created as a ",r.jsx("strong",{children:"Draft"}),". After creating, you can add more assets, episodes, and then publish it to make it visible on the OTT platform."]})})]})})}},8702:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(3189).createProxy)(String.raw`C:\Users\yvish\projects\OTT platform\OTT_app-main\packages\cms\app\cms\programs\new\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[604,575,225],()=>a(9072));module.exports=r})();